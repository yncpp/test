<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="utf-8">
		<title>sample16</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
		<script>
// $(function(){
	// HTMLを読み込んだ時点でa要素にはイベント処理が設定済みのため、
	// 後から追加したa要素はイベント発生要素として設定されない
// 	$("a").click(function(){
// 		$("img").attr("src",$(this).attr("href")).attr("alt",$(this).text());
// 		return false;
// 	});
// 	$("button").click(function(){
// 		$("ul").append("<li><a href='building.jpg'>建物</a></li>");
// 	});
// });

$(function() {
	// ul要素内のa要素がクリックされたときにイベントが発生する要素かどうかを判断
	$("ul").on("click", "a", function() {
		$("img").attr("src", $(this).attr("href")).attr("alt", $(this).text());
		return false;
	});
	$("button").click(function() {
		// ul要素内の最後に挿入
		$("ul").append("<li><a href='building.jpg'>建物</a></li>");
	})
});
		</script>
	</head>
	<body>
		<button>li要素を追加</button>

		<ul>
			<li><a href="flower.jpg">花</a></li>
			<li><a href="sea.jpg">海</a></li>
			<li><a href="jellyfish.jpg">くらげ</a></li>
		</ul>

		<p><img src="flower.jpg" alt="花"></p>
	</body>
</html>